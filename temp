// get_next_line.h
#ifndef GET_NEXT_LINE_H
#define GET_NEXT_LINE_H

#include <stdlib.h>
#include <unistd.h>

char    *get_next_line(int fd);

#endif

#include <unistd.h>
#include <stdlib.h>
#include <fcntl.h>
#include "get_next_line.h"

char	*get_next_line(int fd)
{
    char	*line = malloc(BUFFER_SIZE + 1);
    char	c;
    int		i = 0;
    int		bytes;

    if (fd < 0 || !line)
        return (NULL);
    while ((bytes = read(fd, &c, 1)) > 0 && i < BUFFER_SIZE)
    {
        line[i++] = c;
        if (c == '\n')
            break;
    }
    if (bytes < 0 || i == 0)
    {
        free(line);
        return (NULL);
    }
    line[i] = '\0';
    return (line);
}
